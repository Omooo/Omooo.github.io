<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <meta name="renderer" content="webkit">
  <meta http-equiv="X-UA-Compatible" content="IE=edge" >
  <link rel="dns-prefetch" href="http://yoursite.com">
  <title>沐小晨曦</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="史上最浅显易懂的 Git 教程写在前面
讲道理，这次不是标题党。没错，就是这么猖狂。我为什么敢这么说？看完就懂了，彩蛋在文末。
Git 简介Git 是目前世界最先进的分布式版本控制系统（没有之一）。那什么是版本控制？简单来说就是能记录文件的每次改动。那为什么有分布式一说？这里就要先说集中式版本控制系统了。">
<meta property="og:type" content="article">
<meta property="og:title" content="沐小晨曦">
<meta property="og:url" content="http://yoursite.com/2017/07/14/git/index.html">
<meta property="og:site_name" content="沐小晨曦">
<meta property="og:description" content="史上最浅显易懂的 Git 教程写在前面
讲道理，这次不是标题党。没错，就是这么猖狂。我为什么敢这么说？看完就懂了，彩蛋在文末。
Git 简介Git 是目前世界最先进的分布式版本控制系统（没有之一）。那什么是版本控制？简单来说就是能记录文件的每次改动。那为什么有分布式一说？这里就要先说集中式版本控制系统了。">
<meta property="og:image" content="http://i2.muimg.com/567571/4dfe7ae28522c036.png">
<meta property="og:image" content="http://i1.piimg.com/567571/c953ebbed866ea91.png">
<meta property="og:image" content="http://i2.muimg.com/567571/0b2d71ab51b7e2b6.jpg">
<meta property="og:image" content="https://ooo.0o0.ooo/2017/04/10/58eb7d5d18def.jpg">
<meta property="og:image" content="https://ooo.0o0.ooo/2017/04/10/58eb85d410baf.gif">
<meta property="og:updated_time" content="2017-04-10T13:17:26.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="沐小晨曦">
<meta name="twitter:description" content="史上最浅显易懂的 Git 教程写在前面
讲道理，这次不是标题党。没错，就是这么猖狂。我为什么敢这么说？看完就懂了，彩蛋在文末。
Git 简介Git 是目前世界最先进的分布式版本控制系统（没有之一）。那什么是版本控制？简单来说就是能记录文件的每次改动。那为什么有分布式一说？这里就要先说集中式版本控制系统了。">
<meta name="twitter:image" content="http://i2.muimg.com/567571/4dfe7ae28522c036.png">
  
    <link rel="alternative" href="/atom.xml" title="沐小晨曦" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link rel="stylesheet" href="/main.css">
  

</head>

<body>
  <div id="container">
    <div class="left-col">
      <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			
			<img src="http://p1.bpimg.com/567571/eef62e94d2f3be42.jpg" class="js-avatar">
			
		</a>

		<hgroup>
		  <h1 class="header-author"><a href="/">Omooo</a></h1>
		</hgroup>

		
		<p class="header-subtitle">生活不只是眼前的苟且，还有诗和远方</p>
		

		<nav class="header-menu">
			<ul>
			
				<li><a href="/">主页</a></li>
	        
				<li><a href="/tags/随笔">随笔</a></li>
	        
			</ul>
		</nav>
		<nav class="header-smart-menu">
	        
    		
    			
    			<a class="js-smart-menu" data-idx="0" href="javascript:void(0)">所有文章</a>
    			
    			
            
    			
    			<a class="js-smart-menu" data-idx="1" href="javascript:void(0)">标签</a>
    			
    			
            
    			
    			<a class="js-smart-menu" data-idx="2" href="javascript:void(0)">友链</a>
    			
    			
            
    			
    			<a class="js-smart-menu" data-idx="3" href="javascript:void(0)">关于我</a>
    			
    			
            
		</nav>
		<nav class="header-nav">
			<div class="social">
				
					<a class="github" target="_blank" href="https://github.com/omooo" title="github">github</a>
		        
					<a class="zhihu" target="_blank" href="https://www.zhihu.com/people/mu-mu-44-79-46" title="zhihu">zhihu</a>
		        
					<a class="mail" target="_blank" href="mailto:869759698@qq.com" title="mail">mail</a>
		        
					<a class="linkedin" target="_blank" href="http://www.linkedin.com/nhome/?trk=360-mainlink" title="linkedin">linkedin</a>
		        
			</div>
		</nav>
	</header>		
</div>

    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay">
  		<div class="slider-trigger"><i class="icon-list"></i></div>
  		<h1 class="header-author js-mobile-header hide">Omooo</h1>
  	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
				
					<img src="http://p1.bpimg.com/567571/eef62e94d2f3be42.jpg" class="js-avatar">
				
			</div>
			<hgroup>
			  <h1 class="header-author">Omooo</h1>
			</hgroup>
			
			<p class="header-subtitle">生活不只是眼前的苟且，还有诗和远方</p>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/">主页</a></li>
		        
					<li><a href="/tags/随笔">随笔</a></li>
		        
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
						<a class="github" target="_blank" href="https://github.com/omooo" title="github">github</a>
			        
						<a class="zhihu" target="_blank" href="https://www.zhihu.com/people/mu-mu-44-79-46" title="zhihu">zhihu</a>
			        
						<a class="mail" target="_blank" href="mailto:869759698@qq.com" title="mail">mail</a>
			        
						<a class="linkedin" target="_blank" href="http://www.linkedin.com/nhome/?trk=360-mainlink" title="linkedin">linkedin</a>
			        
				</div>
			</nav>
		</header>				
	</div>
</nav>

      <div class="body-wrap">
        <article id="post-git" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <hr>
<h2 id="史上最浅显易懂的-Git-教程"><a href="#史上最浅显易懂的-Git-教程" class="headerlink" title="史上最浅显易懂的 Git 教程"></a>史上最浅显易懂的 Git 教程</h2><p><strong>写在前面</strong></p>
<p>讲道理，这次不是标题党。没错，就是这么猖狂。我为什么敢这么说？看完就懂了，彩蛋在文末。</p>
<h4 id="Git-简介"><a href="#Git-简介" class="headerlink" title="Git 简介"></a>Git 简介</h4><p>Git 是目前世界最先进的分布式版本控制系统（没有之一）。那什么是版本控制？简单来说就是能记录文件的每次改动。那为什么有分布式一说？这里就要先说集中式版本控制系统了。</p>
<a id="more"></a>
<ul>
<li><strong>集中式版本控制系统</strong></li>
</ul>
<p>版本库是集中存放在中央服务器的，而干活的时候，用的都是自己的电脑，所以要先从中央服务器取得最新的版本，然后开始干活，干完活了，再把自己的东西推送给中央服务器。然而集中式版本控制系统最大的毛病就是必须联网才能工作，如果在局域网还好，带宽够大，速度够快。但是在互联网上，遇到网速很慢的话，就很尴尬了。</p>
<ul>
<li><strong>分布式版本控制系统</strong></li>
</ul>
<p>分布式版本控制系统根本没有“中央服务器”，每个人的电脑上都是一个完整的版本库，这样，你工作的时候，就不需要联网了，因为版本库就在自己的电脑上。既然每个人电脑上都有一个完整的版本库，那么多个人怎么协作呢？比如说你在自己电脑上改了文件A，你的同事也在他的电脑上改了文件A，这时，你们俩之间只需把各自的修改推送给对方，就可以互相看到对方的修改了。和集中式版本控制系统相比，分布式版本控制系统的安全性更高，因为每个人电脑里都有完整的版本库，某一个人的电脑坏掉了不要紧，随便从其他人那么复制一份就可以了。而集中式版本控制系统的中央服务器要是出了问题，所有人都没法干活了。当然，Git 的优势不单是不必联网这么简单，后面我们还会看到Git及其强大的分支管理，把SVN(一种集中式版本控制系统)等远远抛在身后。</p>
<h4 id="安装-Git"><a href="#安装-Git" class="headerlink" title="安装 Git"></a>安装 Git</h4><p>现在 Git 可以在 Linux、Unix、Mac、Windows 这几大平台上正常运行了。</p>
<p>这里我在 Win 上操作示范。</p>
<p>官网下载 : <a href="https://git-for-windows.github.io/" target="_blank" rel="external">https://git-for-windows.github.io</a></p>
<p>网盘下载 : <a href="http://pan.baidu.com/s/1mhB40fm" target="_blank" rel="external">http://pan.baidu.com/s/1mhB40fm</a></p>
<p>安装完之后，鼠标右键会自动添加两个 Git GUI Here 和 Git bash Here。点击 Git GUI Here 后输入命令 git 可以看到参数信息，即说明安装成功。</p>
<p><img src="http://i2.muimg.com/567571/4dfe7ae28522c036.png" alt=""></p>
<p>安装之后，还需要最后一步设置，在命令行输入 : </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ git config --global user.name &quot;Your Name&quot;</div><div class="line">$ git config --global user.email &quot;email@example.com&quot;</div></pre></td></tr></table></figure>
<p>因为 Git 是分布式版本控制系统，所以每个机器都必须自报家门 : 你的名字和邮箱。这里需要注意 git config 命令的 –global 参数，表示你这台机器所有的 Git 仓库都会使用这个配置，当然，你也可以对某个仓库指定不同的用户名和Email地址。</p>
<h4 id="创建版本库"><a href="#创建版本库" class="headerlink" title="创建版本库"></a>创建版本库</h4><ul>
<li><strong>创建版本库</strong></li>
</ul>
<p>版本库又名仓库，Repository 。可以简单地理解为一个目录，这个目录里面的所有东西都可以被 Git 管理起来，每个文件的修改、删除，Git 都能跟踪，以便在任何时刻都可以追踪历史，或者再将某个时刻还原。</p>
<p>右键点击 Git GUI Here 可以 点击 Creat New Repository 新建一个仓库。这里最好确保目录名不要包含中文。然后就是把这个目录变成Git 可以管理的仓库。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ git init</div><div class="line">Initialized empty Git repository in C:/Users/ssc/Desktop/.git/</div></pre></td></tr></table></figure>
<p>瞬间 Git 就把仓库创建好了，而且告诉你是一个空仓库。ls -ah 可以看到当前目录下多一个 .git 目录。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$ ls -ah</div><div class="line">./  ../  .git/  desktop.ini  Repository/</div><div class="line">ssc@WIN-PIUGTH323DL MINGW64 ~/Desktop (master)</div></pre></td></tr></table></figure>
<ul>
<li><strong>把文件添加到版本库</strong></li>
</ul>
<p>这里首先在明确一下，所有的版本控制系统，其实只能跟踪文本文件的改动，比如 TXT，网页，所有的程序代码等等，Git 也不例外。版本控制系统可以告诉你每次的改动，比如在第五行添加一个单词 “Omooo” ,在第八行删除一个单词“Test”。而图片这些二进制文件，虽然也能由版本控制系统管理，但是没法追踪文件的变化，只能把二进制文件每次改动串起来，也就是只知道图片从 100KB 改成了 200KB，但是改了啥，版本控制系统不知道，也没法知道。</p>
<p>不幸的是，微软的Word格式是二进制格式。因此版本控制系统没法跟踪Word文件的改动，前面我们举得例子只是为了演示，如果要真的使用版本控制系统，就要以纯文本方式编写文件。</p>
<p>因为文本是有编码的，比如中文常有的GBK编码，如果没有历史遗留问题，强烈建议使用标准的UTF-8编码，所有语言使用同一种编码，既没有冲突，又被所有平台所支持。</p>
<p><strong>特别注意 :</strong> </p>
<p>千万不要使用 Windows 自带的<strong>记事本</strong>编辑任何文本文件。原因是微软开发记事本的团队在保存UTF-8编码的文件时候，会默认在文件开头添加 0xefbbbf (十六进制)的字符。建议使用Notepad++代替记事本。记得把Notepad++的默认编码设置为UTF-8 without BOM即可。</p>
<p><img src="http://i1.piimg.com/567571/c953ebbed866ea91.png" alt=""></p>
<p>然后我们在桌面写一个 TXT 文件，因为我的仓库文件夹是放在桌面上的，所以我就把写的这个 TXT 文件也放在桌面上了。</p>
<p>第一步 : 用命令 git add 告诉 GIt ，把文件添加到仓库</p>
<p>第二步 : 用命令 git commit 告诉 Git ，把文件提交到仓库</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">ssc@WIN-PIUGTH323DL MINGW64 ~/Desktop (master)</div><div class="line">$ pwd</div><div class="line">/c/Users/ssc/Desktop</div><div class="line"></div><div class="line">ssc@WIN-PIUGTH323DL MINGW64 ~/Desktop (master)</div><div class="line">$ git add readme.txt</div><div class="line"></div><div class="line">ssc@WIN-PIUGTH323DL MINGW64 ~/Desktop (master)</div><div class="line">$ git commit -m &quot;wrote a readme.txt file&quot;</div><div class="line">[master (root-commit) 5be3ee9] wrote a readme.txt file</div><div class="line"> 1 file changed, 1 insertion(+)</div><div class="line"> create mode 100644 readme.txt</div></pre></td></tr></table></figure>
<p>简单解释下 git commit 命令，-m 后面输入的是本次提交的说明，可以输入任意内容，当然最好是有意义的。</p>
<p>执行完命令之后，可以看到 Git 给我返回了信息，一个文件被改动，插入了一行内容。</p>
<p>当然，可以一次提交多个文件，这也就解释了要用到两步。如下 : </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$ git add file1.txt</div><div class="line">$ git add file2.txt file3.txt</div><div class="line">$ git commit -m &quot;add 3 files.&quot;</div></pre></td></tr></table></figure>
<h4 id="时光穿梭机"><a href="#时光穿梭机" class="headerlink" title="时光穿梭机"></a>时光穿梭机</h4><p>我们已经成功提交了一个readme.txt文件，现在我们修改readme.txt文件，修改(加一行内容)里面的内容。在运行 git status : </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">$ git status</div><div class="line">On branch master</div><div class="line">Changes not staged for commit:</div><div class="line">  (use &quot;git add &lt;file&gt;...&quot; to update what will be committed)</div><div class="line">  (use &quot;git checkout -- &lt;file&gt;...&quot; to discard changes in working direc</div><div class="line"></div><div class="line">        modified:   readme.txt</div><div class="line"></div><div class="line">Untracked files:</div><div class="line">  (use &quot;git add &lt;file&gt;...&quot; to include in what will be committed)</div><div class="line"></div><div class="line">        Notepad++.lnk</div><div class="line">        desktop.ini</div><div class="line"></div><div class="line">no changes added to commit (use &quot;git add&quot; and/or &quot;git commit -a&quot;)</div></pre></td></tr></table></figure>
<p>git status 命令可以让我们时刻掌握仓库当前的状态，上面的返回信息告诉我们，readme.txt被修改了，但是还没有提交改动。</p>
<p>虽然 Git 告诉我们文件被修改了，但是并没有告诉我们具体修改了什么内容，可以使用 git diff 命令查看修改了什么。 </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">$ git diff</div><div class="line">diff --git a/readme.txt b/readme.txt</div><div class="line">index 5e1c309..2d57c34 100644</div><div class="line">--- a/readme.txt</div><div class="line">+++ b/readme.txt</div><div class="line">@@ -1 +1,2 @@</div><div class="line">-Hello World</div><div class="line">\ No newline at end of file</div><div class="line">+Hello World</div><div class="line">+Omooo</div><div class="line">\ No newline at end of file</div></pre></td></tr></table></figure>
<p>可以看到我们在第二行添加了字符串 “Omooo”，红色竖杠是我们换行的标志 。也就是说，减号是之前的版本，加号是修改之后的版本。</p>
<p>知道修改什么了，在提交仓库就放心多了。第一步 : git add readme.txt 在执行第二步之前使用命令 git status 看看当前仓库的状态。它会给我们反馈我们将要提交readme.txt，然后就可以放心的执行第二步了。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line">$ git add readme.txt</div><div class="line"></div><div class="line">ssc@WIN-PIUGTH323DL MINGW64 ~/Desktop (master)</div><div class="line">$ git status</div><div class="line">On branch master</div><div class="line">Changes to be committed:</div><div class="line">  (use &quot;git reset HEAD &lt;file&gt;...&quot; to unstage)</div><div class="line"></div><div class="line">        modified:   readme.txt</div><div class="line"></div><div class="line">Untracked files:</div><div class="line">  (use &quot;git add &lt;file&gt;...&quot; to include in what will be committed)</div><div class="line"></div><div class="line">        Notepad++.lnk</div><div class="line">        desktop.ini</div><div class="line"></div><div class="line"></div><div class="line">ssc@WIN-PIUGTH323DL MINGW64 ~/Desktop (master)</div><div class="line">$ git commit -m &quot;add Omooo&quot;</div><div class="line">[master 7c8295f] add Omooo</div><div class="line"> 1 file changed, 2 insertions(+), 1 deletion(-)</div></pre></td></tr></table></figure>
<h4 id="版本回退"><a href="#版本回退" class="headerlink" title="版本回退"></a>版本回退</h4><p>现在我们已经学会了修改文件并提交到GIt版本库，我们再练习一下，在往readme.txt文件里添加第三行”love”，然后提交。</p>
<p>就像这样，我们不断对文件进行修改，然后不断提交修改。我们不可能每次都记住修改了什么，可以用 git log 命令查看我们提交修改的记录。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">$ git log</div><div class="line">commit fe980eab425d9e2f2469313231c2916a6c335028</div><div class="line">Author: TestOmooo &lt;2270334821@qq.com&gt;</div><div class="line">Date:   Sun Apr 9 16:17:13 2017 +0800</div><div class="line"></div><div class="line">    add love</div><div class="line"></div><div class="line">commit 7c8295fc12616f4c012cd4672dc498a5acb53c18</div><div class="line">Author: TestOmooo &lt;2270334821@qq.com&gt;</div><div class="line">Date:   Sun Apr 9 16:03:20 2017 +0800</div><div class="line"></div><div class="line">    add Omooo</div><div class="line"></div><div class="line">commit 5be3ee9f32a76a292daef68269918d6fa54f5be0</div><div class="line">Author: TestOmooo &lt;2270334821@qq.com&gt;</div><div class="line">Date:   Sun Apr 9 15:37:05 2017 +0800</div><div class="line"></div><div class="line">    wrote a readme.txt file</div></pre></td></tr></table></figure>
<p>可以看到我们做了三次提交。嫌输出信息太多眼花缭乱，可以加上 –pretty=oneline 参数。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">ssc@WIN-PIUGTH323DL MINGW64 ~/Desktop (master)</div><div class="line">$ git log --pretty=oneline</div><div class="line">fe980eab425d9e2f2469313231c2916a6c335028 add love</div><div class="line">7c8295fc12616f4c012cd4672dc498a5acb53c18 add Omooo</div><div class="line">5be3ee9f32a76a292daef68269918d6fa54f5be0 wrote a read           me.txt file</div></pre></td></tr></table></figure>
<p>前面一段很长的字符串其实是 commit id (版本号)。是由SHA1计算出来的一个非常大的数字，用十六进制表示。为什么需要这么一大串数字呢？因为 Git 是分布式的版本控制系统，如果大家都用1,2,3等等还做为版本号，就产生冲突了。</p>
<p>然而有时候，我们想要回到以前的版本，怎么办呢？这里我们回到 add Omooo 那个版本。</p>
<p>首先，Git 必须知道当前版本是哪个版本，在 Git 中，用HEAD 表示当前版本，也就是最新提交的版本。上一个版本就是 HEAD^,上上个版本就是HEAD^^，当然往上100个版本写一百个^说不过去，所以写成了HEAD~100。</p>
<p>现在我们可以使用 git reset 命令还回到上一个版本。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">ssc@WIN-PIUGTH323DL MINGW64 ~/Desktop (master)</div><div class="line">$ git reset --hard HEAD^</div><div class="line">HEAD is now at 7c8295f add Omooo</div></pre></td></tr></table></figure>
<p>这时候，readme.txt文件里面的内容已经修改为上个版本的内容了。在使用git log 可以看到我们最新的那个 add love 版本已经不存在了。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">$ git log</div><div class="line">commit 7c8295fc12616f4c012cd4672dc498a5acb53c18</div><div class="line">Author: TestOmooo &lt;2270334821@qq.com&gt;</div><div class="line">Date:   Sun Apr 9 16:03:20 2017 +0800</div><div class="line"></div><div class="line">    add Omooo</div><div class="line"></div><div class="line">commit 5be3ee9f32a76a292daef68269918d6fa54f5be0</div><div class="line">Author: TestOmooo &lt;2270334821@qq.com&gt;</div><div class="line">Date:   Sun Apr 9 15:37:05 2017 +0800</div><div class="line"></div><div class="line">    wrote a readme.txt file</div></pre></td></tr></table></figure>
<p>可是又怎么再回到那个add love版本呢？办法其实还是有的，只有上面的命令行窗口还没关闭，你就可以往上找呀找呀，找到那个 add love 的 commit id 的是fe980ea……，版本号没必要写全，Git会自动帮你找。使用命令 git reset –hard fe980ea 就可以回到那个 add love 版本了。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ git reset --hard fe980ea</div><div class="line">HEAD is now at fe980ea add love</div></pre></td></tr></table></figure>
<p>蛤蛤，我胡汉三又回来了。</p>
<p>Git 的版本回退速度很快的，因为Git 在内部有个指向当前版本的HEAD指针，当你回退版本的时候，Git仅仅只是把HEAD重定向了。</p>
<p>然而当命令窗口关闭了怎么办？或者说回退到某个版本后关掉了电脑，但是第二天又想恢复到新版本怎么办？找不到新版本的 commit id 怎么办？</p>
<p>在 Git 中，总有后悔药可吃的。Git 提供了一个命令 git reflog 用来记录你的每一次命令。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">$ git reflog</div><div class="line">fe980ea HEAD@&#123;0&#125;: reset: moving to fe980ea</div><div class="line">7c8295f HEAD@&#123;1&#125;: reset: moving to HEAD^</div><div class="line">fe980ea HEAD@&#123;2&#125;: commit: add love</div><div class="line">7c8295f HEAD@&#123;3&#125;: commit: add Omooo</div><div class="line">5be3ee9 HEAD@&#123;4&#125;: commit (initial): wrote a readme.txt file</div></pre></td></tr></table></figure>
<h4 id="工作区和暂存区"><a href="#工作区和暂存区" class="headerlink" title="工作区和暂存区"></a>工作区和暂存区</h4><p>Git 和其他版本控制系统如SVN的一个不同之处就是有暂存区的概念。</p>
<ul>
<li><strong>工作区（Working Directory）</strong></li>
</ul>
<p>就是在电脑里能看到的目录。</p>
<ul>
<li><strong>版本库（Repository）</strong></li>
</ul>
<p>工作区有一个隐藏目录 .git ，这个就是 Git 的版本库。</p>
<p>Git 的版本库里面存了很多东西，其中最重要的就是 stage（或者叫 index） 的暂存区了，还有 Git 为我们自动创建的第一个分支 master，以及指向 master 的一个指针 HEAD 。</p>
<p>前面讲了我们把文件添加到Git版本仓库的时候，是分两步执行的：</p>
<p>第一步是用 git add 把文件添加进去，实际上就是把文件修改添加到暂存区；</p>
<p>第二步是用 git commit 提交更改，实际上就是把暂存区所有的内容提交到当前分支。</p>
<p><img src="http://i2.muimg.com/567571/0b2d71ab51b7e2b6.jpg" alt=""></p>
<h4 id="管理修改"><a href="#管理修改" class="headerlink" title="管理修改"></a>管理修改</h4><p>为什么 Git 比其他版本控制系统设计的优秀，是因为 Git 跟踪并管理的是修改，而非文件。</p>
<h4 id="撤销修改"><a href="#撤销修改" class="headerlink" title="撤销修改"></a>撤销修改</h4><p>在准备提交之前，我们可以使用命令 git checkout – file 来把文件在工作区的修改全部撤销。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div></pre></td><td class="code"><pre><div class="line">$ cat readme.txt</div><div class="line">Hello World</div><div class="line">Omooo</div><div class="line">love</div><div class="line">Almost</div><div class="line">Sad</div><div class="line">Mylover</div><div class="line">ssc@WIN-PIUGTH323DL MINGW64 ~/Desktop (master)</div><div class="line">$ git status</div><div class="line">On branch master</div><div class="line">Changes not staged for commit:</div><div class="line">  (use &quot;git add &lt;file&gt;...&quot; to update what will be committed)</div><div class="line">  (use &quot;git checkout -- &lt;file&gt;...&quot; to discard changes in working directory)</div><div class="line"></div><div class="line">        modified:   readme.txt</div><div class="line"></div><div class="line">Untracked files:</div><div class="line">  (use &quot;git add &lt;file&gt;...&quot; to include in what will be committed)</div><div class="line"></div><div class="line">        Notepad++.lnk</div><div class="line">        desktop.ini</div><div class="line"></div><div class="line">no changes added to commit (use &quot;git add&quot; and/or &quot;git commit -a&quot;)</div><div class="line"></div><div class="line">ssc@WIN-PIUGTH323DL MINGW64 ~/Desktop (master)</div><div class="line">$ git checkout -- readme.txt</div><div class="line"></div><div class="line">ssc@WIN-PIUGTH323DL MINGW64 ~/Desktop (master)</div><div class="line">$ cat readme.txt</div><div class="line">Hello World</div><div class="line">Omooo</div><div class="line">love</div><div class="line">Almost</div><div class="line">Sad</div></pre></td></tr></table></figure>
<p>文件果然又复原了。</p>
<p>如果修改之后还 git add 到暂存区了，我们可以使用命令 git reser HEAD file 吧暂存区的修改撤销掉，然后在丢弃工作区的修改。</p>
<h4 id="删除文件"><a href="#删除文件" class="headerlink" title="删除文件"></a>删除文件</h4><p>我们先添加一个新文件 test.txt 到仓库中。然后使用 rm 命令 :</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">$ rm test.txt</div><div class="line"></div><div class="line">ssc@WIN-PIUGTH323DL MINGW64 ~/Desktop (master)</div><div class="line">$ git status</div><div class="line">On branch master</div><div class="line">Changes not staged for commit:</div><div class="line">  (use &quot;git add/rm &lt;file&gt;...&quot; to update what will be committed)</div><div class="line">  (use &quot;git checkout -- &lt;file&gt;...&quot; to discard changes in working directory)</div><div class="line"></div><div class="line">        deleted:    test.txt</div><div class="line"></div><div class="line">Untracked files:</div><div class="line">  (use &quot;git add &lt;file&gt;...&quot; to include in what will be committed)</div><div class="line"></div><div class="line">        Notepad++.lnk</div><div class="line">        desktop.ini</div><div class="line"></div><div class="line">no changes added to commit (use &quot;git add&quot; and/or &quot;git commit -a&quot;)</div></pre></td></tr></table></figure>
<p>这时候 Git 要知道你要删除文件了，git status 命令也会告诉你要删除哪些文件了。现在有两个选择 ：</p>
<ol>
<li>确定要删除这个文件。 git rm 删掉后 git commit 提交。</li>
<li>删错了，可以使用命令 git checkout – test.txt 恢复到最新版本。</li>
</ol>
<h4 id="远程仓库"><a href="#远程仓库" class="headerlink" title="远程仓库"></a>远程仓库</h4><p>到目前为止，我们已经掌握了如何在 Git 仓库里对一个文件进行时光穿梭，你再也不用担心文件备份或者丢失的问题了。</p>
<p>可是有用过集中式版本控制系统 SVN 的小伙伴们可能会站出来说，这些功能在 SVN 里面早就有了，没看出来 Git 有什么特别的地方。</p>
<p>没错，如果只是在一个仓库里管理文件历史，Git 和 SVN 这没有什么区别。但是，从本章开始，我们将介绍 Git 的史诗级爆炸功能。</p>
<p>Git 是分布式版本控制系统，同一个 Git 仓库，可以分布到不同的机器上。    那么怎么分布呢？最早，肯定只有一台机器和一个原始的版本库。此后，别的机器可以克隆这个原始库，而且每台机器的版本库其实是一样的，并没有主次之分。</p>
<p>你肯定会想，至少需要两台机器才能玩远程仓库不是吗？但是我只有一台，怎么玩？</p>
<p>其实一台电脑也是可以克隆多个版本库的，只有不在同一个目录下。不过，现实生活中是不会有人这么傻在一台机器上搞几个远程库玩，因为一台机器搞几个远程库是没有意义的，而且硬盘挂了会导致所有的库都挂掉。</p>
<p>实际情况下是这样的，找一台电脑充当服务器的角色，每天二十四小时开机，其他每个人都从这个服务器仓库克隆一份到自己的电脑上，并把各自的提交推送到服务器仓=仓库里，也能从服务器中拉取别人的提交。</p>
<p>完全可以自己搭建一个运行 Git 的服务器，不过现阶段，为了学 Git 先搭一个服务器绝对是小题大做。好在这个世界上有个叫 GitHub 的网站，他就是提供 Git 仓库托管服务的，所以只要注册一个 Github 账号，就可以免费获得 Git 远程仓库。</p>
<p>再继续阅读后续内容前，请自行注册 Github 账号。由于我们本地 Git仓库和 Github 仓库之间的传递是通过 SSH 加密的，所以，需要一点设置：</p>
<ol>
<li>创建 SSH Key。在用户主目录下，看看有没有 ssh 目录，如果有，在看看这个目录下有没有 id_rsa 和 id_rsa.pub 这两个文件，如果有了，可以直接跳过下一步。如果没有，打开 Git Bash，创建 SSH Key：</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ ssh-keygen -t rsa -C &quot;youemail@example.com&quot;</div></pre></td></tr></table></figure>
<p>你需要把邮件地址换成你自己的邮件地址，然后一路回车，使用默认值即可，由于这个 Key 也不是用于军事目的，所以也无需设置密码。</p>
<p>如果一切顺利的话，可以在用户主目录下找到 .ssh 目录，里面有 id_rsa 和 id_rsa.pub 两个文件，其中，id_rsa 是私钥，不能泄露出去，id_rsa.pub 是公钥，可以放心的告诉别人。</p>
<ol>
<li>登录 Github ，打开 ”Account setting“，”SSH Keys“ 页面：</li>
</ol>
<p>然后点 “Add SSH Key”，填上任意的 Title，在 Key 文本框里黏贴 id_rsa.pub 文件的内容。</p>
<h4 id="最后想说"><a href="#最后想说" class="headerlink" title="最后想说"></a>最后想说</h4><p>如果你看到这了，说明你耐心不错，我也是闲的无聊写的这篇博文。当然，我可没有那么厉害，所有的一切都是参考廖雪峰写的Git教程。他是在 MAC 演示的，我是从 Win 上演示的，实际上差别很小。最开始写的时候，其实就是想认真系统学一遍 Git 教程，自己动手做一遍肯定印象深刻。那为什么不继续写了呢？说出来你可能不信，六合彩中了一百万。</p>
<p><img src="https://ooo.0o0.ooo/2017/04/10/58eb7d5d18def.jpg" alt=""></p>
<p>开个玩笑，实际上我物理机上早就装了 Github。但是为了害怕万一操作傻逼，所以就在虚拟机上进行演示了。写到远程仓库那一章，发现要注册 Github并且配置，就很烦了。当然，码了那么多字也很烦了，所以决定不再写了，想看的小伙伴可以点击 <a href="http://www.liaoxuefeng.com/wiki/0013739516305929606dd18361248578c67b8067c8c017b000" target="_blank" rel="external">Here</a>。</p>
<p><img src="https://ooo.0o0.ooo/2017/04/10/58eb85d410baf.gif" alt=""></p>

      
    </div>
    <div class="article-info article-info-index">
      
      <a href="/2017/07/14/git/" class="archive-article-date">
  	<time datetime="2017-07-14T07:28:51.198Z" itemprop="datePublished"><i class="icon-clock"></i>2017-07-14</time>
</a>
      
      

      <div class="clearfix"></div>
    </div>
  </div>
</article>

  
<nav id="article-nav">
  
    <a href="/2017/07/14/HTML+CSS/" id="article-nav-newer" class="article-nav-link-wrap">
      <i class="icon-circle-left"></i>
      <div class="article-nav-title">
        
          (no title)
        
      </div>
    </a>
  
  
    <a href="/2017/07/14/Docker/" id="article-nav-older" class="article-nav-link-wrap">
      <div class="article-nav-title"></div>
      <i class="icon-circle-right"></i>
    </a>
  
</nav>




<div class="share_jia">
	<!-- JiaThis Button BEGIN -->
	<div class="jiathis_style">
		<span class="jiathis_txt">Share to: &nbsp; </span>
		<a class="jiathis_button_facebook"></a> 
	    <a class="jiathis_button_twitter"></a>
	    <a class="jiathis_button_plus"></a> 
	    <a class="jiathis_button_tsina"></a>
		<a class="jiathis_button_cqq"></a>
		<a class="jiathis_button_douban"></a>
		<a class="jiathis_button_weixin"></a>
		<a class="jiathis_button_tumblr"></a>
    <a href="http://www.jiathis.com/share" class="jiathis jiathis_txt jtico jtico_jiathis" target="_blank"></a>
	</div>
	<script type="text/javascript" src="//v3.jiathis.com/code/jia.js?uid=1405949716054953" charset="utf-8"></script>
	<!-- JiaThis Button END -->
</div>






<div class="duoshuo">
	<!-- 多说评论框 start -->
	<div class="ds-thread" data-thread-key="git" data-title="" data-url="http://yoursite.com/2017/07/14/git/"></div>
	<!-- 多说评论框 end -->
	<!-- 多说公共JS代码 start (一个网页只需插入一次) -->
	<script type="text/javascript">
	var duoshuoQuery = {short_name:"Omooo"};
	(function() {
		var ds = document.createElement('script');
		ds.type = 'text/javascript';ds.async = true;
		ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
		ds.charset = 'UTF-8';
		(document.getElementsByTagName('head')[0] 
		 || document.getElementsByTagName('body')[0]).appendChild(ds);
	})();
	</script>
	<!-- 多说公共JS代码 end -->
</div>





      </div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
    	<div class="footer-left">
    		&copy; 2017 Omooo
    	</div>
      	<div class="footer-right">
      		<a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/litten/hexo-theme-yilia" target="_blank">Yilia</a> by Litten
      	</div>
    </div>
  </div>
</footer>
    </div>
    <script>
	var yiliaConfig = {
		fancybox: true,
		mathjax: true,
		animate: true,
		isHome: false,
		isPost: true,
		isArchive: false,
		isTag: false,
		isCategory: false,
		open_in_new: false,
		root: "/",
		innerArchive: true
	}
</script>

<script src="/./main.js"></script>


<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
});

MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';                 
    }       
});
</script>

<script src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


    
<div class="tools-col">
  <ul class="btn-wrap">
    
      <li class="chose" data-hook="tools-section-all"><span class="text">全部</span><i class="icon-book"></i></li>
    
    
      <li data-hook="tools-section-tag"><span class="text">标签</span><i class="icon-price-tags"></i></li>
    
    
      <li data-hook="tools-section-friends"><span class="text">友链</span><i class="icon-link"></i></li>
    
    
      <li data-hook="tools-section-me"><span class="text">我</span><i class="icon-smile"></i></li>
    
  </ul>
  <div class="tools-wrap">
    
    	<section class="tools-section tools-section-all chose">
    	</section>
    

    
    	<section class="tools-section tools-section-tag">
    			<div class="widget tagcloud" id="js-tagcloud">
    				
    			</div>
    	</section>
    

    
    	<section class="tools-section tools-section-friends">
  		
  			<div class="friends-wrap" id="js-friends">
  			
  	          <a target="_blank" class="main-nav-link switch-friends-link" href="https://www.vicicode.com/">一只废喵喵</a>
  	        
  	          <a target="_blank" class="main-nav-link switch-friends-link" href="http://www.changwei.me/">他的真名叫昌维</a>
  	        
  	          <a target="_blank" class="main-nav-link switch-friends-link" href="http://localhost:4000/">友情链接3</a>
  	        
  	          <a target="_blank" class="main-nav-link switch-friends-link" href="http://localhost:4000/">友情链接4</a>
  	        
  	          <a target="_blank" class="main-nav-link switch-friends-link" href="http://localhost:4000/">友情链接5</a>
  	        
  	          <a target="_blank" class="main-nav-link switch-friends-link" href="http://localhost:4000/">友情链接6</a>
  	        
  	        </div>
  		
    	</section>
    

    
    	<section class="tools-section tools-section-me">
  	  	
  	  		<div class="aboutme-wrap" id="js-aboutme">我们一直都向往，面朝大海，春暖花开。
但是几人能做到，心中有爱，四季不败？</div>
  	  	
    	</section>
    
  </div>
  
</div>
    <!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                <!--  Controls are self-explanatory. Order can be changed. -->

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" style="display:none" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                      <div class="pswp__preloader__cut">
                        <div class="pswp__preloader__donut"></div>
                      </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div> 
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div>
  </div>
</body>
</html>